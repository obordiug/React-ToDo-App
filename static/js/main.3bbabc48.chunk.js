(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),s=c(8),i=c.n(s),l=(c(14),c(15),c(16),c(2)),r=c(0),a=o.a.createContext({todos:[],setTodos:function(){},activeTodos:[],setActiveTodos:function(){},completedTodos:[],setCompletedTodos:function(){},visibleTodos:[],setVisibleTodos:function(){return[]}}),d=function(e){var t=e.children,c=Object(n.useState)(JSON.parse(localStorage.getItem("todos")||"[]")),o=Object(l.a)(c,2),s=o[0],i=o[1],d=Object(n.useState)([]),u=Object(l.a)(d,2),j=u[0],b=u[1],O=Object(n.useState)([]),f=Object(l.a)(O,2),m=f[0],p=f[1],h=Object(n.useState)([]),x=Object(l.a)(h,2),v=x[0],g=x[1];Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(s)),b(s.filter((function(e){return!e.completed}))),p(s.filter((function(e){return e.completed})))}),[s]);var T={todos:s,setTodos:i,activeTodos:j,setActiveTodos:b,completedTodos:m,setCompletedTodos:p,visibleTodos:v,setVisibleTodos:g};return Object(r.jsx)(a.Provider,{value:T,children:t})},u=c(9),j=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],o=t[1],s=Object(n.useContext)(a),i=s.todos,d=s.setTodos;return Object(r.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),c&&(d([].concat(Object(u.a)(i),[(t=c,{id:+new Date,title:t,completed:!1})])),o(""))},children:Object(r.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:c,onChange:function(e){o(e.target.value)}})})},b=function(){return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("h1",{children:"todos"}),Object(r.jsx)(j,{})]})},O=c(3),f=function(){var e=Object(n.useContext)(a),t=e.todos,c=e.setTodos,o=e.activeTodos;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:0===o.length,onChange:function(e){c(t.map((function(t){return Object(O.a)(Object(O.a)({},t),{},{completed:e.target.checked})})))}}),Object(r.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]})},m=c(4),p=c.n(m),h=function(e){var t=e.todo,c=Object(n.useContext)(a),o=c.todos,s=c.setTodos,i=Object(n.useState)(!1),d=Object(l.a)(i,2),u=d[0],j=d[1],b=Object(n.useState)(t.title),f=Object(l.a)(b,2),m=f[0],h=f[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){x.current&&x.current.focus()}),[u]);var v=function(e,c){e.length?s(o.map((function(t){return t.id===c?Object(O.a)(Object(O.a)({},t),{},{title:e}):t}))):(s(o),h(t.title))};return Object(r.jsxs)("li",{className:p()({completed:t.completed,editing:u}),children:[Object(r.jsxs)("div",{className:"view",children:[Object(r.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(){return e=t.id,void s(o.map((function(t){return t.id===e?Object(O.a)(Object(O.a)({},t),{},{completed:!t.completed}):t})));var e}}),Object(r.jsx)("label",{onDoubleClick:function(){j(!0)},children:t.title}),Object(r.jsx)("button",{type:"button",className:"destroy",onClick:function(){return e=t.id,void s(o.filter((function(t){return t.id!==e})));var e}})]}),Object(r.jsx)("input",{type:"text",className:"edit",ref:x,value:m,onChange:function(e){h(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&(v(m,t.id),j(!1)),"Escape"===e.code&&(h(t.title),j(!1))},onBlur:function(){v(m,t.id),j(!1)}})]})},x=function(){var e=Object(n.useContext)(a).visibleTodos;return Object(r.jsx)("ul",{className:"todo-list",children:e.map((function(e){return Object(r.jsx)(h,{todo:e},e.id)}))})},v=function(){return Object(r.jsxs)("section",{className:"main",children:[Object(r.jsx)(f,{}),Object(r.jsx)(x,{})]})},g=function(){var e=Object(n.useState)("all"),t=Object(l.a)(e,2),c=t[0],o=t[1],s=Object(n.useContext)(a),i=s.todos,d=s.setVisibleTodos,u=function(e){o(e)};return Object(n.useEffect)((function(){switch(c){case"active":d(i.filter((function(e){return!e.completed})));break;case"completed":d(i.filter((function(e){return e.completed})));break;default:d(i)}}),[c,i]),Object(r.jsxs)("ul",{className:"filters",children:[Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#/",className:p()({selected:"all"===c}),onClick:function(){return u("all")},children:"All"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#/active",className:p()({selected:"active"===c}),onClick:function(){return u("active")},children:"Active"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#/completed",className:p()({selected:"completed"===c}),onClick:function(){return u("completed")},children:"Completed"})})]})},T=function(){var e=Object(n.useContext)(a),t=e.todos,c=e.setTodos,o=e.activeTodos,s=e.completedTodos;return Object(r.jsxs)("footer",{className:"footer",children:[Object(r.jsxs)("span",{className:"todo-count",children:[o.length," ","items left"]}),Object(r.jsx)(g,{}),s.length>0&&Object(r.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){c(t.filter((function(e){return!e.completed})))},children:"Clear completed"})]})},C=function(){var e=Object(n.useContext)(a).todos;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{}),e.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v,{}),Object(r.jsx)(T,{})]})]})},N=function(){return Object(r.jsx)(d,{children:Object(r.jsx)("section",{className:"todoapp",children:Object(r.jsx)(C,{})})})};i.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3bbabc48.chunk.js.map